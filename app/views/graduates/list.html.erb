<%= render partial: 'search', locals: { lastname: params.fetch(:lastname, nil), checkedin: params.fetch(:checkedin, nil) } %>

<table class="primary">
  <thead>
    <tr>
      <th>BUID</th>
      <th>Name</th>
      <th>GR</th>
      <th>Degree</th>
      <th>Order #</th>
      <th>Cord</th>
      <th><span class="material-symbols-outlined">verified</span></th>
      <th><span class="material-symbols-outlined">Print</span></th>
      <th><span class="material-symbols-outlined">diagnosis</span></th>
  <% @graduates.each do |graduate| %>
    <tr>
      <td><%= link_to(graduate.buid, graduate_path(buid: graduate.buid, lastname: params.fetch(:lastname, nil))) %></td>
      <td><%= graduate.preferredlast %>, <%= graduate.preferredfirst %> <%= graduate.middlename[0,1] %> </td>
      <td>
        <% if graduate.levelcode == "GR" %>
          <span class="material-symbols-outlined">school</span>
        <% end %>
      </td>
      <td>
        <%= graduate.degree1 %> (<%= graduate.college1 %>)
      </td>
      <td><%= graduate.orderid %></td>
      <td><%= graduate.honors %></td>
      <td>
        <% if graduate.checked_in? %>
          <span class="material-symbols-outlined">done</span>
        <% end %>
      </td>
      <td>
        <% if graduate.printed? %>
          <span class="material-symbols-outlined">done</span>
        <% end %>
      </td>
      <td>
        <% if graduate.brags.any? %>
          <span class="material-symbols-outlined">done</span>        
        <% end %>
      </td>
    </tr>
  <% end %>
</table>
